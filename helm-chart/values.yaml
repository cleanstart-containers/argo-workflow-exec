app:
  name: argocd-extension-installer
  type: application
  component: container
  tier: application
fullnameOverride: ''
nameOverride: ''
image:
  registry: us-central1-docker.pkg.dev
  project: winged-octagon-482706-c0
  repository: community-dev-materials
  name: argocd-extension-installer
  tag: 0.0.9-dev
  pullPolicy: IfNotPresent
testSidecar:
  enabled: true
  name: test-sidecar
  image:
    registry: us-central1-docker.pkg.dev
    project: ct2-staging-build
    repository: container-images
    name: cleanstart-base
    tag: latest-dev
  resources:
    requests:
      memory: 64Mi
      cpu: 50m
    limits:
      memory: 128Mi
      cpu: 100m
  env: {}
initContainer:
  enabled: true
  name: init-installer-dirs
  command: "echo \"=== Init: Creating installer directories ===\"\nmkdir -p /shared/extensions /shared/config /shared/logs /shared/tmp\nchmod -R 755 /shared\n\ncat > /shared/config/installer.conf <<'EOF'\n# ArgoCD Extension Installer Configuration\nextension_dir=/shared/extensions\nlog_dir=/shared/logs\ntemp_dir=/shared/tmp\nEOF\n\necho \"\u2705 Init: Directories created successfully\"\n"
  volumeMounts:
  - name: shared-data
    mountPath: /shared
container:
  command:
  - /bin/sh
  args:
  - -c
  - while true; do sleep 3600; done
  env:
    APPLICATION_TYPE: argocd-extension-installer
    HOME: /home/ext-installer
  ports:
  - containerPort: 8080
    protocol: TCP
    name: http
resources:
  requests:
    memory: 64Mi
    cpu: 50m
  limits:
    memory: 256Mi
    cpu: 200m
security:
  pod:
    seccompProfile:
      type: RuntimeDefault
  container:
    runAsNonRoot: true
    runAsUser: 1001
    runAsGroup: 1001
    allowPrivilegeEscalation: false
    capabilities:
      drop:
      - ALL
    readOnlyRootFilesystem: true
service:
  clusterIP:
    enabled: true
    name: argocd-extension-installer-service
    type: ClusterIP
    port: 8080
    targetPort: 8080
    protocol: TCP
  nodePort:
    enabled: true
    name: argocd-extension-installer-nodeport
    type: NodePort
    port: 8080
    targetPort: 8080
    protocol: TCP
probes:
  readiness:
    exec:
      command:
      - /bin/sh
      - -c
      - test -d /home/ext-installer
    initialDelaySeconds: 5
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3
    enabled: true
  liveness:
    enabled: false
volumes:
  installer-config:
    enabled: true
    name: installer-config
    type: configMap
    configMapName: argocd-extension-installer-config
  shared-data:
    enabled: true
    name: shared-data
    type: emptyDir
    emptyDir:
      sizeLimit: 1Gi
  tmp-volume:
    enabled: true
    name: tmp-volume
    type: emptyDir
    emptyDir:
      sizeLimit: 100Mi
  home-volume:
    enabled: true
    name: home-volume
    type: emptyDir
    emptyDir:
      sizeLimit: 100Mi
volumeMounts:
  installer-config-root:
    name: installer-config
    mountPath: /etc/argocd-installer
    readOnly: true
    subPath: ''
  shared-data-root:
    name: shared-data
    mountPath: /shared
    readOnly: false
    subPath: ''
  tmp-volume-root:
    name: tmp-volume
    mountPath: /tmp
    readOnly: false
    subPath: ''
  home-volume-root:
    name: home-volume
    mountPath: /home/ext-installer
    readOnly: false
    subPath: ''
configMap:
  enabled: true
  data:
    application.type: argocd-extension-installer
    installer.conf: |
      # ArgoCD Extension Installer Configuration
      extension_directory=/shared/extensions
      log_directory=/shared/logs
      temp_directory=/shared/tmp
      openssl_version=3.5.0
fips:
  enabled: false
  mode: disabled
labels:
  common:
    app.kubernetes.io/name: argocd-extension-installer
    app.kubernetes.io/component: utility
    framework.version: 4.2.1
  deployment:
    app: argocd-extension-installer
    tier: utility
    component: installer
    framework.version: 4.2.1
replicaCount: 1
namespace:
  create: false
  name: argocd-extension-installer
